<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-extras/kubernetes-installation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Kubernetes Installation | Susan Michalski - Documentation Specialist</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://smichalski17-dev.github.io/documentarian/img/typwriter.jpg"><meta data-rh="true" name="twitter:image" content="https://smichalski17-dev.github.io/documentarian/img/typwriter.jpg"><meta data-rh="true" property="og:url" content="https://smichalski17-dev.github.io/documentarian/docs/tutorial-extras/kubernetes-installation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kubernetes Installation | Susan Michalski - Documentation Specialist"><meta data-rh="true" name="description" content="Follow this process to install Certifai in Kubernetes.
"><meta data-rh="true" property="og:description" content="Follow this process to install Certifai in Kubernetes.
"><link data-rh="true" rel="canonical" href="https://smichalski17-dev.github.io/documentarian/docs/tutorial-extras/kubernetes-installation"><link data-rh="true" rel="alternate" href="https://smichalski17-dev.github.io/documentarian/docs/tutorial-extras/kubernetes-installation" hreflang="en"><link data-rh="true" rel="alternate" href="https://smichalski17-dev.github.io/documentarian/docs/tutorial-extras/kubernetes-installation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Documents","item":"https://smichalski17-dev.github.io/documentarian/docs/category/documents"},{"@type":"ListItem","position":2,"name":"Kubernetes Installation","item":"https://smichalski17-dev.github.io/documentarian/docs/tutorial-extras/kubernetes-installation"}]}</script><link rel="alternate" type="application/rss+xml" href="/documentarian/blog/rss.xml" title="Susan Michalski - Documentation Specialist RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentarian/blog/atom.xml" title="Susan Michalski - Documentation Specialist Atom Feed"><link rel="stylesheet" href="/documentarian/assets/css/styles.6d484712.css">
<script src="/documentarian/assets/js/runtime~main.9d40e250.js" defer="defer"></script>
<script src="/documentarian/assets/js/main.ce0b64b7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/documentarian/img/avatar.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentarian/"><div class="navbar__logo"><img src="/documentarian/img/avatar.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentarian/img/avatar.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentarian/docs/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentarian/docs/intro"><span title="Documentaion Samples" class="linkLabel_WmDU">Documentaion Samples</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/documentarian/docs/category/about-me"><span title="About Me" class="categoryLinkLabel_W154">About Me</span></a><button aria-label="Expand sidebar category &#x27;About Me&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/documentarian/docs/category/documents"><span title="Documents" class="categoryLinkLabel_W154">Documents</span></a><button aria-label="Collapse sidebar category &#x27;Documents&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/documentarian/docs/tutorial-extras/ceritfai-basics/factors/atx"><span title="ceritfai-basics" class="categoryLinkLabel_W154">ceritfai-basics</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentarian/docs/tutorial-extras/kubernetes-installation"><span title="Kubernetes Installation" class="linkLabel_WmDU">Kubernetes Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentarian/docs/tutorial-extras/monitoring-dashboard"><span title="Monitoring Dashboard" class="linkLabel_WmDU">Monitoring Dashboard</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/documentarian/docs/category/templates"><span title="Templates" class="categoryLinkLabel_W154">Templates</span></a><button aria-label="Expand sidebar category &#x27;Templates&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/documentarian/docs/category/cool-stuff"><span title="Cool Stuff" class="categoryLinkLabel_W154">Cool Stuff</span></a><button aria-label="Expand sidebar category &#x27;Cool Stuff&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentarian/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/documentarian/docs/category/documents"><span>Documents</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Kubernetes Installation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kubernetes Installation</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation-prerequisites">Installation Prerequisites<a href="#installation-prerequisites" class="hash-link" aria-label="Direct link to Installation Prerequisites" title="Direct link to Installation Prerequisites" translate="no">​</a></h2>
<ul>
<li class="">Kubernetes version v1.16 or greater</li>
<li class="">Docker CLI configured with permissions to push to the docker registry used by the Kubernetes cluster</li>
<li class="">Certifai Enterprise Archive (Zip) file obtained from your CognitiveScale Certifai Sales Representative</li>
<li class="">Linux/OSX Control machine to run the installation script with a few dependencies needed that are described in the Certifai Enterprise Installation section</li>
<li class="">A command line yaml processor -</li>
<li class="">Credentials for a PostgreSQL database (We recommend PostgreSQL 13.x) to setup the Reporting ETL job for scan reports and policy checks</li>
<li class="">Credentials and bucket details for one of AWS S3, GCP GCS, Azure BlobStorage; these details are needed later while setting up the Certifai Custom Resource on Kubernetes</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="certifai-enterprise-configuration">Certifai Enterprise Configuration<a href="#certifai-enterprise-configuration" class="hash-link" aria-label="Direct link to Certifai Enterprise Configuration" title="Direct link to Certifai Enterprise Configuration" translate="no">​</a></h2>
<p>The default Certifai Installation script creates a Certifai Enterprise subscription in the <code>certifai</code> namespace by default. You can change this behavior by editing the following files:</p>
<ul>
<li class="">Cluster Roles for Subject Access Reviews - Edit the file named <code>gke-rbac-clusterroles.yaml</code>:<!-- -->
<ul>
<li class=""><code>subjects.namespace</code> the namespace you want to install Certifai Enterprise into</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="certifai-enterprise-installation">Certifai Enterprise Installation<a href="#certifai-enterprise-installation" class="hash-link" aria-label="Direct link to Certifai Enterprise Installation" title="Direct link to Certifai Enterprise Installation" translate="no">​</a></h2>
<p>Run the installation script:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./install-offline.sh -u &lt;DOCKER USER&gt; -p &lt;DOCKER REGISTRY PASSWORD&gt; -r &lt;DOCKER REGISTRY URL&gt; -n &lt;NAMESPACE&gt; -m</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-an-instance-of-certifai-enterprise">Create an instance of Certifai Enterprise<a href="#create-an-instance-of-certifai-enterprise" class="hash-link" aria-label="Direct link to Create an instance of Certifai Enterprise" title="Direct link to Create an instance of Certifai Enterprise" translate="no">​</a></h2>
<p>If you are using LDAP integration, do that integration now before creating and applying the <code>certifai-cr.yaml</code> file.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>In this section we first configure a Certifai Enterprise installation (Operand / Application) in the namespace supplied during the Enterprise installation.</p></div></div>
<p>Create a new file called <code>certifai-cr.yaml</code> with the following YAML content:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cortex.cognitivescale.com/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Certifai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">certifai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># namespace should match the namespace set in the subscription defined earlier in the Enterprise Configuration section</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> certifai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">deployment-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dex</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#enable dex to act as the oidc provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create-ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#dex auth provider connector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">connector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Github</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client-id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github oauth app client id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client-secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github oauth app client secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">#additional configurations as found in https://github.com/dexidp/website/tree/main/content/docs/connectors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">add-config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        orgs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        - name: org-to-provide access to</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">console</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create-ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">route-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> oauth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">authorization-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">s3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">access-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your access key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://s3.amazonaws.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secret-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your secret key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">verify-cert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scan-dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path to the storage bucket or container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">reference-model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">policy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create-ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">s3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">access-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your access key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://s3.amazonaws.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secret-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your secret key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">verify-cert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">questionnaire-dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path to the storage bucket or container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">policy-control-config-file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path to the control config yaml file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">authorization-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">route-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> oauth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scan-manager</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create-ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scan-data-dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ingress-config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">max-body-size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1000m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">proxy-connect-timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;180&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">proxy-read-timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;180&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">reporting</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">period</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*/15 * * * *&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">db-conn-str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;postgresql://user:password@service:port/db&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">monitoring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">period</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*/15 * * * *&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">monitoring-dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rai-center</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create-ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">db-conn-str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;postgresql://user:password@service:port/db&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rai-reports-dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><br></span></code></pre></div></div>
<p>Edit the following spec/dex parameters:</p>
<ul>
<li class=""><code>spec/deployment-type</code></li>
<li class=""><code>spec/dex/enabled</code></li>
<li class=""><code>spec/dex/replicas</code></li>
<li class=""><code>spec/dex/connector/type</code></li>
<li class=""><code>spec/dex/connector/name</code></li>
<li class=""><code>spec/dex/connector/client-id</code></li>
<li class=""><code>spec/dex/connector/client-secret</code></li>
<li class=""><code>spec/dex/connector/add-config</code></li>
<li class=""><code>spec/console/gcs/application-credentials</code></li>
<li class=""><code>spec/console/route-type</code>: Set this to <code>oauth</code> if <code>spec.dex.enabled</code> is set to <code>true</code></li>
<li class=""><code>spec/console/authorization-type</code>: Set this to <code>rbac</code> if <code>spec.dex.enabled</code> is set to true</li>
<li class=""><code>spec/console/azure/account-name</code></li>
<li class=""><code>spec/console/azure/account-key</code></li>
<li class=""><code>spec/console/azure/sas-token</code></li>
<li class=""><code>spec/console/s3/access-key</code></li>
<li class=""><code>spec/console/s3/endpoint</code></li>
<li class=""><code>spec/console/s3/secret-key</code></li>
<li class=""><code>spec/console/scan-dir</code></li>
<li class=""><code>spec/policy/enabled</code></li>
<li class=""><code>spec/policy/route-type</code>: Set this to <code>oauth</code> if <code>spec.dex.enabled</code> is set to <code>true</code></li>
<li class=""><code>spec/policy/authorization-type</code>: Set this to <code>rbac</code> if <code>spec.dex.enabled</code> is set to true</li>
<li class=""><code>spec/policy/gcs/application-credentials</code></li>
<li class=""><code>spec/policy/azure/account-name</code></li>
<li class=""><code>spec/policy/azure/account-key</code></li>
<li class=""><code>spec/policy/azure/sas-token</code></li>
<li class=""><code>spec/policy/s3/access-key</code></li>
<li class=""><code>spec/policy/s3/endpoint</code></li>
<li class=""><code>spec/policy/s3/secret-key</code></li>
<li class=""><code>spec/policy/questionnaire-dir</code></li>
<li class=""><code>spec/scan-manager/enabled</code></li>
<li class=""><code>spec/scan-manager/replicas</code></li>
<li class=""><code>spec/scan-manager/scan-data-dir</code></li>
<li class=""><code>spec/scan-manager/ingress-config/max-body-size</code></li>
<li class=""><code>spec/scan-manager/ingress-config/proxy-connect-timeout</code></li>
<li class=""><code>spec/scan-manager/ingress-config/proxy-read-timeout</code></li>
<li class=""><code>spec/reference-model/enabled</code></li>
<li class=""><code>spec/reporting/enabled</code></li>
<li class=""><code>spec/reporting/period</code></li>
<li class=""><code>spec/reporting/db-conn-str</code></li>
<li class=""><code>spec/monitoring/enabled</code></li>
<li class=""><code>spec/monitoring/period</code></li>
<li class=""><code>spec/monitoring/monitoring-dir</code></li>
<li class=""><code>spec/rai-center/enabled</code></li>
<li class=""><code>spec/rai-center/create-ingress</code></li>
<li class=""><code>spec/rai-center/replicas</code></li>
<li class=""><code>spec/rai-center/db-conn-str</code></li>
<li class=""><code>spec/rai-center/rai-reports-dir</code></li>
</ul>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>apiVersion</code></td><td>APIVersion defines the versioned schema of this representation of an object. Should NOT be changed by users.</td><td><code>cortex.cognitivescale.com/v1</code></td></tr><tr><td><code>kind</code></td><td>Identifies the package type you are installing</td><td>(Always) <code>Certifai</code></td></tr><tr><td><code>metadata/name</code></td><td>The name of your installation as configured</td><td><code>default-certifai</code></td></tr><tr><td><code>metadata/namespace</code></td><td>The namespace you selected in the Subscription section of the Enterprise Configuration section above</td><td><code>certifai</code></td></tr><tr><td><code>spec/deployment-type</code></td><td>Options are: <br><code>gke</code>: This guide is for GKE so this is the only option that works here.</td><td>default = <code>openshift</code></td></tr><tr><td><code>spec/dex/enabled</code></td><td>Enable Dex as an authentication provider to access the Certifai Console and remote CLI operations.</td><td>default = <code>false</code>; set this to <code>true</code></td></tr><tr><td><code>spec/dex/connector/type</code></td><td>Dex connector type: Should be one of the options described at <a href="https://dexidp.io/docs/connectors/" target="_blank" rel="noopener noreferrer" class="">https://dexidp.io/docs/connectors/</a></td><td><code>github</code></td></tr><tr><td><code>spec/dex/connector/name</code></td><td>The name of the Dex connector. Can be set to a sane value of your choice. Required field when Dex is enabled</td><td>your-dex-connector-name</td></tr><tr><td><code>spec/dex/connector/client-id</code></td><td>oauth app client ID for the Dex connector of your choice. Required field when Dex is enabled</td><td><code>your-oauth-provider-client-id</code></td></tr><tr><td><code>spec/dex/connector/client-secret</code></td><td>oauth app client secret for the Dex connector of your choice. Required field when Dex is enabled</td><td><code>your-oauth-provider-client-secret</code></td></tr><tr><td><code>spec/dex/connector/add-config</code></td><td>Additional configuration (yaml) you may want to pass on to Dex, including specific organization, teams etc. Refer to the documentation for connectors. All fields, excluding client ID, client Secret and redirectURI, maybe specified in this section. Optional field when Dex is enabled</td><td>orgs: <br>- name: organization-with-certifai-access</td></tr><tr><td><code>spec/console/replicas</code></td><td>The number of console instances you want your organization to run concurrently</td><td>default = <code>2</code></td></tr><tr><td><code>spec/console/route-type</code></td><td>Console access options are: <br><code>none</code> (default): no authentication is required to open the Console <br>  <code>http</code>: Unsecured for a closed network <br> <code>https</code>: Secured for the internet <br> <code>oauth</code>: Enables login with Dex connector credentials</td><td>default = <code>none</code></td></tr><tr><td><code>spec/console/authorization-type</code></td><td>If Dex is enabled and you want to control access to the Certifai Console, set this field to <code>rbac</code>. Otherwise, the Certifai Console will have unauthenticated access</td><td>default = <code>none</code></td></tr><tr><td><code>spec/console/scan-dir</code></td><td>A path-like string prefixed with <code>gs://</code> for <code>gcs</code> storage, <code>abfs://</code> for Azure Storage Accounts and <code>s3://</code> for S3 / Ceph / Noobaa storage accounts</td><td><code>scan-dir</code></td></tr><tr><td><code>spec/console/gcs/application-credentials</code></td><td>JSON content of the application credentials file for a service account obtained from GCP. This needs to be a JSON key and not P12.</td><td><code>application-credentials</code></td></tr><tr><td><code>spec/console/s3/access-key</code></td><td>The s3 (or Ceph) access key you configured during your infrastructure setup</td><td><code>access-key</code></td></tr><tr><td><code>spec/console/s3/endpoint</code></td><td>The s3 (or noobaa/Ceph) endpoint you configured during your infrastructure setup</td><td><code>s3.amazonaws.com</code></td></tr><tr><td><code>spec/console/s3/secret-key</code></td><td>The s3 (or Ceph) secret-key you configured during your infrastructure setup</td><td><code>s3secret1234</code></td></tr><tr><td><code>spec/console/azure/account-name</code></td><td>The name of your Azure Storage Account with Blob containers</td><td><code>account-name</code></td></tr><tr><td><code>spec/console/azure/account-key</code></td><td>An account key for a Blob Container present in the <code>account-name</code> referenced above</td><td><code>account-key</code></td></tr><tr><td><code>spec/console/azure/sas-token</code></td><td>An SAS token for a Blob Container present in the <code>account-name</code> referenced above</td><td><code>sas-token</code></td></tr><tr><td><code>spec/policy/replicas</code></td><td>The number of policy instances you want your organization to run concurrently</td><td>default = <code>2</code></td></tr><tr><td><code>spec/policy/route-type</code></td><td>Policy Access options are: <br><code>none</code> (default): no authentication is required to open the policy<br><code>http</code>: Unsecured for a closed network<br><code>https</code>: Secured for the internet<br><code>oauth</code>: Enables login with Dex connector credentials</td><td>default=<code>none</code></td></tr><tr><td><code>spec/policy/authorization-type</code></td><td>If dex is enabled, and you want to control access to the Certifai policy, set this field to <code>rbac</code>. Otherwise, the Certifai policy will have unauthenticated access</td><td>default = <code>none</code></td></tr><tr><td><code>spec/policy/questionnaire-dir</code></td><td>A path-like string prefixed with <code>gs://</code> for <code>gcs</code> storage, <code>abfs://</code> for Azure Storage Accounts and <code>s3://</code> for S3 / Ceph / Noobaa storage accounts</td><td><code>scan-dir</code></td></tr><tr><td><code>spec/policy/policy-control-config-file</code></td><td>A path-like string (yaml file) prefixed with <code>gs://</code> for <code>gcs</code> storage, <code>abfs://</code> for Azure Storage Accounts and <code>s3://</code> for S3 / Ceph / Noobaa storage accounts</td><td><code>policy-control-config-file</code></td></tr><tr><td><code>spec/policy/gcs/application-credentials</code></td><td>JSON content of the application credentials file for a service account obtained from GCP. This needs to be a JSON key and not P12.</td><td><code>application-credentials</code></td></tr><tr><td><code>spec/policy/s3/access-key</code></td><td>The s3 (or Ceph) access key you configured during your infrastructure setup</td><td><code>access-key</code></td></tr><tr><td><code>spec/policy/s3/endpoint</code></td><td>The s3 (or noobaa/Ceph) endpoint you configured during your infrastructure setup</td><td><code>s3.amazonaws.com</code></td></tr><tr><td><code>spec/policy/s3/secret-key</code></td><td>The s3 (or Ceph) secret-key you configured during your infrastructure setup</td><td><code>s3secret1234</code></td></tr><tr><td><code>spec/policy/azure/account-name</code></td><td>The name of your Azure Storage Account with Blob containers</td><td><code>account-name</code></td></tr><tr><td><code>spec/policy/azure/account-key</code></td><td>An account key for a Blob Container present in the <code>account-name</code> referenced above</td><td><code>account-key</code></td></tr><tr><td><code>spec/policy/azure/sas-token</code></td><td>An SAS token for a Blob Container present in the <code>account-name</code> referenced above</td><td><code>sas-token</code></td></tr><tr><td><code>spec/scan-manager/replicas</code></td><td>The number of scan manager instances you want your organization to run concurrently</td><td>default = <code>2</code></td></tr><tr><td><code>spec/scan-manager/enabled</code></td><td>Boolean. Enables or disables scan manager instances that is added to your installation. Users may disable the scan manager at any time to remove it from the installation to save resources.</td><td>default = <code>false</code></td></tr><tr><td><code>spec/scan-manager/scan-data-dir</code></td><td>A path-like string prefixed with <code>gs://</code> for <code>gcs</code> storage, <code>abfs://</code> for Azure Storage Accounts and <code>s3://</code> for S3 / Ceph / Noobaa storage accounts</td><td><code>scan-data-dir</code></td></tr><tr><td><code>spec/scan-manager/ingress-config/max-body-size</code></td><td>Size of the client request body; Uses <code>m</code> as units. (Optional)</td><td><code>1000m</code> (megabytes)</td></tr><tr><td><code>spec/scan-manager/ingress-config/proxy-connect-timeout</code></td><td>Proxy connect timeout for connections to the upstream servers. (Optional)</td><td><code>&quot;180&quot;</code> (seconds)</td></tr><tr><td><code>spec/scan-manager/ingress-config/proxy-read-timeout</code></td><td>Proxy read timeout for connections to the upstream servers (Optional)</td><td><code>&quot;180&quot;</code> (seconds)</td></tr><tr><td><code>spec/reference-model/enabled</code></td><td>Boolean. Enables or disables the reference model server that is added to your installation. Users may disable the reference model at any time to remove it from the installation to save resources.</td><td>default = <code>true</code></td></tr><tr><td><code>spec/reporting/enabled</code></td><td>Boolean. Enables or disables the reporting ETL job that is added to your installation. Users may disable the reporting ETL job at any time to remove it from the installation to save resources.</td><td>default = <code>true</code></td></tr><tr><td><code>spec/reporting/period</code></td><td>Cron time string describing how often the reporting ETL job should run. The default value is 15 minutes.</td><td>default = <code>*/15 * * * *</code></td></tr><tr><td><code>spec/reporting/db-conn-str</code></td><td>PostgreSQL connection string.  The location the reporting ETL will load report data to.</td><td>default = <code>postgresql://user:password@service:port/db</code></td></tr><tr><td><code>spec/monitoring/enabled</code></td><td>Boolean. Enables or disables the runtime monitoring job that is added to your installation. Users may disable the monitoring job at any time to remove it from the installation to save resources.</td><td>default = <code>true</code></td></tr><tr><td><code>spec/monitoring/period</code></td><td>Cron time string describing how often the monitoring job should run. The default value is 15 minutes.</td><td>default = <code>*/15 * * * *</code></td></tr><tr><td><code>spec/monitoring/monitoring-dir</code></td><td>A path-like string prefixed with gs:// for gcs storage, abfs:// for Azure storage accounts and s3:// for S3 / Ceph / Noobaa storage accounts</td><td><code>monitoring-dir</code></td></tr><tr><td><code>spec/rai-center/enabled</code></td><td>Boolean. Enables or disables RAI Center instances that is added to your installation. Users may disable the RAI Center at any time to remove it from the installation to save resources.</td><td>default = <code>false</code></td></tr><tr><td><code>spec/rai-center/replicas</code></td><td>The number of RAI Center instances you want your organization to run concurrently</td><td>default = <code>1</code></td></tr><tr><td><code>spec/rai-center/db-conn-str</code></td><td>PostgreSQL connection string.  The location the RAI Center loads data to and fetches data from.</td><td>default = <code>postgresql://user:password@service:port/db</code></td></tr><tr><td><code>spec/rai-center/rai-reports-dir</code></td><td>A path-like string prefixed with gs:// for gcs storage, abfs:// for Azure storage accounts and s3:// for S3 / Ceph / Noobaa storage accounts</td><td><code>rai-reports-dir</code></td></tr></tbody></table>
<p>The <code>spec.dex</code> section of the above YAML snippet connects an OAuth application of an authentication provider of your choice (supported by Dex) to enable authentication and RBAC of this Cortex Certifai installation.</p>
<p>Apply this custom resource to the namespace you created in the Configuration section above using</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f certifai-cr.yaml -n &lt;your_namespace&gt;</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentarian/docs/tutorial-extras/ceritfai-basics/interpret-scan-results"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interpret Scan Results</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentarian/docs/tutorial-extras/monitoring-dashboard"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring Dashboard</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation-prerequisites" class="table-of-contents__link toc-highlight">Installation Prerequisites</a></li><li><a href="#certifai-enterprise-configuration" class="table-of-contents__link toc-highlight">Certifai Enterprise Configuration</a></li><li><a href="#certifai-enterprise-installation" class="table-of-contents__link toc-highlight">Certifai Enterprise Installation</a></li><li><a href="#create-an-instance-of-certifai-enterprise" class="table-of-contents__link toc-highlight">Create an instance of Certifai Enterprise</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/suemich/" target="_blank" rel="noopener noreferrer" class="footer__link-item">My LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.susan-michalski.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">My Author Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>